 1 | public class Example {
 2 |     protected final void fastPathOrderedEmit(U value, boolean delayError, Disposable disposable) {
 3 |         final Observer<? super V> observer;
 4 |         observer = downstream;
 5 |         final SimplePlainQueue<U> q;
 6 |         q = queue;
 7 |         if (wip.get() == 0 && wip.compareAndSet(0, 1)) {
 8 |             if (q.isEmpty()) {
 9 |                 accept(observer, value);
10 |                 if (leave(-1) == 0) {
11 |                     return;
12 |                 }
13 |             } else {
14 |                 q.offer(value);
15 |             }
16 |         } else {
17 |             q.offer(value);
18 |             if (!enter()) {
19 |                 return;
20 |             }
21 |         }
22 |         QueueDrainHelper.drainLoop(q, observer, delayError, disposable, this);
23 |     }
24 | }